* add more config options
* clean the main "function" by grouping GUI init.
* make refresh at runtime refresh only the correct type, and fix the possible race condition
